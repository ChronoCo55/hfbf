Задание 2 модуля 1:
Описание предметной области:
Торговая организация ООО «Торг» ведет торговлю различными товарами. Заказы клиентов составляются на основе заявок. В заказе клиента перечисляются товары с указанием количества. Каждый заказ
имеет несколько статусов: Новый, В работе, Выполнен. При продаже товаров фиксируется дата продажи, способ оплаты, сотрудник, клиент, перечисляются товары и их количество. При
покупке покупателю можно предоставить возможность регистрации в промо компании для чего необходимо указать ФИО, телефон, электронную почту, которые впоследствии будут занесены в базу
клиентов для предоставления скидки. Отчество является не обязательным для заполнения. В зависимости от спроса сотрудники организации могут менять цену товаров.
Любая единица товара обладает собственными артикулом,наименованием, категорией, ценой, изображением (не обязательное), единицей измерения, датой изготовления, сроком годности, фирмой и
страной производителя. Для сотрудников организации необходимо хранить глобальный уникальный идентификатор в формате GUID. Всякий раз, когдадобавляется новый сотрудник
оно должно генерироваться автоматически. Так же необходимо хранить ФИО, дата рождения, телефон, адрес (город, улица, дом, квартира). Отчество является не обязательным для заполнения.
На основе описания предметной области Вам необходимо спроектировать ER-диаграмму для информационной системы. Обязательна 3 нормальная форма с обеспечением ссылочной
целостности. При разработке диаграммы обратите внимание на согласованную осмысленную схему именования, создайте необходимые первичные и внешние ключи, определите ограничения
внешних ключей, отражающие характер предметной области. ER - диаграмма должна быть представлена в формате .pdf и содержать таблицы, связи между ними, атрибуты и ключи (типами
данных на данном этапе можно пренебречь).Создайте базу данных, используя предпочтительную платформу,на сервере баз данных, который вам предоставлен. Создайте таблицы основных
сущностей, атрибуты, отношения и необходимые ограничения. В любом случае созданные таблицы должны содержать начальные тестовые данные. В каждой таблице должно быть как
минимум 2 записи, а в таблице заказы и покупки клиентов 10 записей.Предусмотреть, чтобы один клиент совершил несколько покупок, а каждая покупка должна быть оформлена на несколько товаров.
Создайте процедуру, которая проверяет адрес электронной почты, хранящийся в базе данных, на корректность. Корректным является адрес, если он содержит допустимые символы в каждой из частей и
части разделены сначала символом @ затем «.» (Формат адреса электронной почты: A-Z0-9 @ A-Z0-9 . A-Z0-9). Дополнительно необходимо проверить, чтобы в адресе отсутствовали символы, из-за
которых часто возникают ошибки ( [ " < > ' ]). Процедура выводит все адреса электронных почт с указанием соответствующего признака валидности (1-валидный, 0 – не валидный).
Для хранения истории изменения цен на товары создайте таблицу HistoryCost со следующей структурой: Дата изменения, Товар, Старое значение цены, Новое значение цены). Создайте триггер, который при
изменении цены будет записывать данные в таблицу HistoryCost.Предполагается, что за один раз будет обновление только одной строки.
